<style>
  .img-with-text--{{ section.id}}{
    display: grid;
    grid-template-columns: {% if section.settings.img_pos == "left"%}30% 65% {%else %}
      65% 30%{% endif %};
    gap: 80px;
  }

  .img-with-text img {
    width: 100%;
    aspect-ratio: 1;
    object-fit: cover;
    max-width: 100%;
    height: 100%;
    max-height: 100%;
    border-radius: 10px;
  }

  .img-with-text__text {
    display: flex;
    flex-direction: column;
    justify-content: center;
  }

  @media screen and (max-width: 800px) {
    .img-with-text {
      grid-template-columns: 1fr;
      gap: 12px;
    }
    .img-with-text img {
      grid-row: 1;
    }
  }
</style>
{% capture image %}
  {% if section.settings.img != blank %}
    <img src="{{section.settings.img | img_url: 'large'}}" alt="{{section.settings.img.alt}}">
  {% endif %}
{% endcapture %}

<div class="img-with-text img-with-text--{{section.id}} custom-container">
  {% if section.settings.img_pos == "left" %}
    {{ image }}
  {% endif %}
  <div class="img-with-text__text">
    <h1>{{ section.settings.heading }}</h1>
    <div>{{ section.settings.content }}</div>
  </div>

  {% unless section.settings.img_pos == "left" %}
    {{ image }}
  {% endunless %}
</div>

{% schema %}
  {
    "name": "Simple Image with Text",
    "settings": [
      {
        "type": "image_picker",
        "id": "img",
        "label": "Image"
      }, {
        "type": "text",
        "id": "heading",
        "label": "Heading"
      }, {
        "type": "textarea",
        "id": "content",
        "label": "Content"
      }, {
        "type": "select",
        "id": "img_pos",
        "label": "Image Position",
        "options": [
          {
            "label": "Right",
            "value": "right"
          }, {
            "label": "Left",
            "value": "left"
          }
        ],
        "default": "left"
      }
    ],
    "presets": [
      {
        "name": "Simple Image with Text"
      }
    ]
  }
{% endschema %}